@(results: Page[index.objects.IndexedObject], facets: Option[index.FacetTree], filters: Map[String, String], took: Long)(implicit request: RequestHeader)
<html>
  <head>
    <title>Pelagios Search</title>
    <link rel="stylesheet" href="@routes.Assets.at("stylesheets/search/main.css")"/>   
    <script type="text/javascript" src="@routes.Assets.at("javascripts/lib/jquery-1.9.0.min.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/lib/typeahead/typeahead.jquery.min.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/lib/jquery.twbsPagination.min.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/lib/numeral.min.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/page-utils.js")"></script>
    @helper.requireJs(core = routes.Assets.at("javascripts/require.js").url, module = routes.Assets.at("javascripts/search").url)
  </head>
  <body>
    <div id="header">
      <div id="logo">
        <a onclick="return false;" href="@controllers.pages.routes.HomepageController.index">PELAGIOS</a>
      </div>
     
      <div id="search">
        <form method="GET" action="/api-v3/new/search">
        	<div class="form-container">
            <input type="text" id="query" name="q" value="@results.query">
          </div>
        </form>
      </div>
      
      <div id="nav">
        <ul>
          <li><a href="@controllers.pages.routes.HomepageController.index">Map</a></li>
          <li><a href="http://pelagios-project.blogspot.co.uk">Blog</a></li>
          <li><a href="#">About</a></li>
        </ul>
      </div>
    </div> <!-- #header -->
    
    <div id="content">
      
      <div id="left-column">
        <div id="query-took">
          <span class="number">@results.total</span> Results (@{ took.toDouble / 1000 } seconds)
        </div>

        @if(facets.isDefined) {        
          <ul id="facets">
            @for(dimension <- facets.get.dimensions()) {
              <li class="dimension">
                <h3>@dimension.toUpperCase</h3>
                <ul>
                  @for((label, count) <- facets.get.getTopChildren(dimension)) {
                    <li class="classification">@tags.facetItem(dimension, label, count)</li>
                  }
                </ul>
              </li>
            }
          </ul>
        }
      </div>
      
      <div id="center-column">
        @if(filters.size > 0) {
          <div id="filters">
            <h2>Filters</h2>
            <div>
              <ul>
                @for((dimension, value) <- filters) {
                  @tags.filterItem(dimension, value)
                }
              </ul>
            </div>
          </div> <!-- #filters -->
        }
        
        <ul id="results" @if(filters.size > 0) { class="with-filters" }>
          @for(item <- results.items) {
        	  @tags.searchresultItem(item)
          }
        </ul>
      </div>
      
      <div id="right-column">
      </div>
      
      
      @*

      
      <div class="pagination">
        <ul></ul>
      </div --> *@
    </div> <!-- #content -->

  </body>
</html>
